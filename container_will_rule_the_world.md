# 为什么容器将统治世界

---

请允许我先做一个大胆的预测：容器将统治世界。本文不讨论容器技术细节，而是从更高的格局：容器对互联网的变革，它的经济成本和效益上娓娓道来。

让我们先从集装箱说起，最近刚读了一本书，《集装箱改变世界》，里面洋洋洒洒20万字讲了一个20世纪全球运输业和世界经济被集装箱彻底颠覆的故事。

![巨大的航运集装箱船](http://image.com)

在香港、上海、深圳或者荷兰的鹿特丹货运港口，停靠在码头的巨大的集装箱船和岸边堆场里叠起来的数万个金属集装箱；旁边数十米高的大型起重机臂不停地吊起这些几十吨的集装箱，在几分钟内安放到集装箱船上；几小时后巨轮拔锚启航，上面承载了数千个集装箱。如果你曾见识过此情此景，一定会赞叹现代航运的高效率和大容量，以及依托它而建立的广泛的全球贸易。

上世纪60年代以前，集装箱运输还未被认可，几乎所有的货物都是以`散件`方式运输。

以“勇士号”为例，在一次从布鲁克林到不来梅的运输中，货物装卸都是由普通的码头工人来完成的，它装载了5015英吨的货物，主要是食品、日用品、邮件、机器和车辆的零部件以及53辆车。这批货物的数量达到了惊人的194582件，而且大小和种类各不相同。

![书中表2-1 ”勇士号“运载的货物](http://image.com)

所有的货物都是码头工人一件一件放到货盘上，再把货盘降到船舱中一件一件搬下来堆好。他们装完这艘船总共用了6天时间，其中还有一天是因为罢工而浪费掉了。横跨大西洋的航行用了10天半的时间；在不来梅港，码头工人是昼夜不停地干活儿，他们卸船用了4天时间。总而言之，这次航行有一半时间都花在码头上。这船货物中的最后一批到达其最终目的地的时间，是”勇士号“停靠不来梅港之后的第33天，是它从纽约港起航后的第44天，是其中最早起运欧洲的货物从美国的来源地上路后的第95天。`95天！！！重要的事说3遍。`

运送这批货物的总成本达到了237577美元，还没有算上”勇士号“返回纽约的成本以及运输过程中暂时存放货物的支出。在这个总额当中，海上航行本身的支出仅占11.5%，而在航行起点和终点的两个码头上，货物处理的费用占到了总支出的36.8%。这比轮船公司的主管常常说的50%要低，但是，这仅仅是因为德国的“经济奇迹”还没有把码头工人的工资推上去。研究者注意到，如果不是因为德国码头工人的工资比美国的码头工人低1/5，港口成本肯定还会高出很多。研究者最后得出的结论是，要降低总的运输成本，最好的办法是降低在美国各港口接收、储运、装载离岗货物的成本。他们还进一步提出忠告说，政府和企业应该提高码头工人的劳动生产率，消除低效率的工作惯例，尽早彻底地反思整个流程。他们在研究报告中写道：“或许，补救的方法就在于找到可以避免散件处理的包装、搬运和装载货物的方法。”

为什么非要装载、卸载、转移和再装载那么多的散件货物？为什么不把货物装进大箱子里，然后就只装卸和搬运这些箱子？

运输业大量采用集装箱后，由咖啡制造商发出的一只35吨的集装箱，可以在马来西亚离开工厂，装上一艘货轮，经过16天的航行到达9000营里之外的洛杉矶。一天之后，这个集装箱被一列火车运到芝加哥，并被随机转移到了一辆开往辛辛那提的卡车上。从离开马来西亚的工厂到抵达俄亥俄州的仓库，这次11000营里的行程可能只需要花费22天的时间，其速度是每天500英里，而费用比一张单程的头等舱机票还低。另外，在这一路上，很可能没有人碰过集装箱里的东西，甚至根本没有人打开过它。同传统的货轮相比，集装箱船的装卸只需要大约1/6的时间和1/3的劳动力。

集装箱最大的成功在于其产品的标准化以及由此建立的一整套运输体系。无论货物的体积、形状差异有多大，最终都被装载进集装箱里。由于要实现标准尺寸集装箱的运输，堆场、码头、起吊、船舶、汽车乃至公路桥梁、隧道等，都必须适应它在全球范围内的应用而逐渐加以标准化，形成影响国际贸易的全球物流系统。由此带来的是系统效率大幅度提升，运输费大幅度下降，地球上任何一个地方生产的产品都可以快速而低廉地运送到有需求的地方。 

两种货运方式的对比：
|--------| 散货运输 | 集装箱运输 |
|--------|--------|--------|
| 货物装卸时间 | 几天到一个星期，分拣、合并、装卸过程繁琐 | 几个小时 |
| 劳动力 | 多 | 少 |
| 自动化程度 | 低 | 高 |
| 安全性 | 低，常有物品损毁和盗窃 | 高，货物被隔离在封闭的集装箱内 |
| 成本 | 前期固定成本投入低 | 前期固定成本投入较高，随着集装箱规模增大，分摊到每个集装箱的成本极低 |
| 规模效应 | 规模越大，成本越高，时间越长 | 规模越大，成本几乎不变，收益增大 |

这本书的英文名称是"The Box:How the shipping container made the world smaller and the world economy bigger"

阅读此书的过程中，我已经联想到了现今方兴未艾的以Docker container技术；当留意到`container`一词出现在书名中时，我已经迫不及待地把我的观点分享给你，通过帮助你在集装箱与Docker container之间建立连接的方式让你对容器技术的未来增添信心。

dotCloud公司开源的Docker技术现在是容器技术的代言人。

【集装箱与Docker做类比】

|------| 类比 |------|
|------|------|------|
| 发货商 | <=> | 应用发布者 |
| 客户 | <=> ||
| 货物 | <=> | 完整的应用或其中的部分组件和依赖 |
| 集装箱 | <=> | 容器 |
| 装卸货 | <=> ||
| 码头工人 | <=> | 应用发布者？运维什么的人员？ |
| 散件装卸/运货方式 | <=> ||
| 集装箱装卸/运货方式 | <=> ||
| 港口 | <=> | 云计算平台？ |
| 港口的起重机/集装箱堆场 | <=> ||
| 轮船/轮船公司 | <=> ||


我开始怀疑，Docker公司的创始人读过此书或研究过货运业的发展历史，并从其中汲取了灵感，其公司的Logo也算是佐证。Docker的创始人堪称当代互联网界的麦克莱恩。

![docker公司鲸拖集装箱海里游的LOGO](http://image.com)

【Docker将给互联网/云计算带来什么，它的价值】【论集装箱给世界带来的重大影响】
Docker的诱人之处：
容器技术正在快速改变着公司和用户创建，发布，运行分布式应用的方式。
*	隔离
*	开发环境 = 测试环境 = 线上环境
*	build once, run everywhere
*	低成本的创建、销毁

正如集装箱对全球运输业及经济的变革不应归因于集装箱本身而是全社会系统协同创新一样，Docker也将是全系统的变革，除了拥有运行容器的基础技术工具，还需要构建整个生态系统。


《《集装箱》》发货商只关注货物从出发到到达客户手中的总运价和时间，他们希望减少总成本和时间，运输公司负责并且能够处理好公路铁路航海运输中的一切细节。没有发货人会去关注运输的路线、顺序以及集装箱轮船停靠在哪个港口。《《docker》》目前提供容器服务的产品还远未达到，APP发布者总是不得不处理各种细节甚至亲自实现其中缺失的部分，由此导致的额外成本埋没了容器服务潜在的巨大价值。


【今后Docker行业发展主题预测】
> 技术本身及生态系统的发展

*	容器是一项伟大的变革，但它不会在短时间内产生巨大效益
只有随着时间的推移，当容器发展成为一个全新的完善系统后[TODO]。

*	自动化

机遇容器的云计算服务，其自动化程度将进一步提高，整个服务耗费的时间将更少。[发布APP]运维人员，如同港口上的码头工人，总人数将减少，并由劳动密集型逐渐转向技术知识密集型。

*    安全
容器技术本身是安全的，影响安全性的是其内部的[货物]。

*	容器技术标准
容器相关的技术标准的诞生将促进整个大系统的各方更好的协作和兼容。

*	云计算平台的支持
现有云计算平台要么尽快支持容器技术，要么被新的支持容器的云计算平台超越。
《《集装箱》》中国香港在上世纪60年代末抓住了集装箱发展的机遇，释放了国际贸易的潜能，于2001年成为，

*	发货人习惯的培养

*	混合模式将大大减少
《《集装箱》》散货、集装箱混合的装卸、运输模式很难体现巨大的成本优势，甚至会增加成本。XX年代，这种混合模式终结后，运输业的服务能力提升了一个数量级。
《《Docker》》

*	微服务
巨大臃肿的服务可以拆分成多个只做一件事的微服务，使整个服务更加模块化，而分别发布这些微服务的时间和难易程度并没有增加。

*	行业规模
Mesos, k8s等容器管理方案将助力 “巴拿马级”，“马六甲级”的容器轮船。Mesos, k8s等成熟通用的集群管理方案将为你做好大规模分布式容器的启停、调度、编排、高可用。
[与现有的大部分互联网服务类似，容器依赖于规模，运行的容器规模越大，客户越多，构建整套的容器运行体系[生态系统]的大成本就被分摊得越薄]

*	三个阶段的演化：
（1）无容器时代（2）无容器应用于容器应用混合时代（3）大规模容器时代

【docker的发展也会遇到非技术本身问题，就像60年代-70年代的集装箱发展一样】

在未来世界，云计算不止是互联网的公共基础服务，也是被互联网渗透的所有行业的公共基础服务，公有云也好，私有云也罢，几乎所有的信息服务都将在云上。

从集装箱诞生到运输业广泛采用集装箱，大宗货物运输成本普遍减少50%以上，耗费了约60年。我相信在互联网领域，容器的普及都用不了6年，希望在这个互联网基础服务里掘金的企业，请跑步入场！

5年后，我们可以再回过头来审视容器的发展史，你一定会发现历史总是惊人的相似，在此力荐《集装箱改变世界》。

----

## References

1.	《集装箱改变世界》

2.	 Docker官方网站
https://www.docker.com/ 

3.	 Docker VP Marianna Tessel：下一步容器技术的热点 
http://dockone.io/article/750

4.	Hong Kong Container Shipping Port:
http://www.mardep.gov.hk/en/publication/pdf/portstat_2_y_b5.pdf
http://www.censtatd.gov.hk/FileManager/EN/Content_1064/B2_E.pdf
http://app1.hkicpa.org.hk/APLUS/1011/14-18-shipping.pdf
http://www.statista.com/statistics/264171/turnover-volume-of-the-largest-container-ports-worldwide/
http://www.legco.gov.hk/research-publications/english/1314rb01-competitiveness-of-the-port-of-hong-kong-20131121-e.pdf

5.	Docker VP Marianna Tessel：下一步容器技术的热点
http://dockone.io/article/750

---

TODO:

1.	解释"巴拿马级"，“马六甲级”轮船。

2.	有些内容可能更适合放在注释里面，以免扰乱正文行进。

3.	丰富内容：集装箱相关的图表，容器相关的图表

4.	云计算与容器是怎么扯到一起的。

5.	集装箱与Docker做类比待补充

6.	devops

7.	容器技术统一为;Container技术，不是Docker技术

8.	在某处解释为什么集装箱是全社会系统的创新，为什么只有这个全社会系统完善了，才能实现巨大的成本节约。在某处解释为什么Docker也是全社会系统创新。

9.	哪些是容器做不到的？它会像集装箱那样普及吗？

10.	Docker相关技术的诞生时间。

11.	Docker在哪些方面省下了[运维][这个运维具体指什么？]成本：Docker 是个伟大的项目，它彻底释放了虚拟化的威力，极大降低了云计算资源供应的成本，同时让应用的分发、测试、部署和分发都变得前所未有的高效和轻松！

12.	微服务是什么？

13.	谈论容器技术标准时可能会涉及Open Container Project

---
笔记：
1.	集装箱对运输业的变革，依靠的是与其配套的基础设施及整个社会根据这种货运模式在周边技术、管理运营、资本、标准、法律上的调整。

2.	使用容器之后对开发，测试，运维的职责划分影响：使用容器后，运维部门则主要负责将开发部门的[货物]原封不动得运输到[客户手中]，并保障好容器的正常运行。开发部门将为线上服务的质量负有更大的责任，[怎么解释]。我们经常在公司耳闻某服务上线后遇到故障，开发和运维争执某个忘记上线的依赖模块或错误的软件版本、错误的目录、错误的环境变量应该由谁负责——此情此景就此终结。	

3.	有些公司和项目的管理者反驳说现有运维成本并不高，因为他们通过（1）雇佣少量的运维人员；（2）增加他们的额外工作时间（3）压低薪酬；（4）不涨工资；这四个方法来保持低成本。这是多么地`可笑`和`不可持续`。

4.	随着硅谷的风险资本和国内外巨头将未来20年定义为云计算和人工智能时代，未来互联网服务[云服务]的数量，规模一定会在数量级上攀升，现有的劳动密集型运维方式将逐渐不再适应。我们从劳动密集型向知识密集型转型应该会比中国南方的制造业来得更快更猛。	

5.	集装箱的边际成本比较低。摊薄了包括动辄几千万美元的的造船开销等固定成本。货运量越大，集装箱越多，国定成本就可以分摊得更广、更薄，分摊到每只集装箱上的成本就会很低，从而实现了运价的大幅下调。

---
原文摘录：
1.	集装箱降低了货物运输的成本，从而改变了世界经济的形态。

2.	与其认为运输商品是生产过程的一个要素，不如假定运输商品基本上没什么成本。

3.	从当初那艘只装载了几十个专用货柜的小型游轮开始，时至今日，集装箱运输已经日趋成熟，发展成了一个全球规模的，高度自动化和标准化的行业。要装载一艘巨大的集装箱，所需要的劳动力非常少，所需要的时间也仅仅相当于半个世纪以前装载一艘小型的传统轮船所用的时间。有了集装箱，少数的船员就能够操控和管理一艘比三个足球场还大的远洋轮船。

4.到目前为止，这一过程中最大的支出还是把货物从陆上运输工具转移到离岗的轮船上，以及到达目的港时再把货物搬回到卡车或火车上。正如一位专家解释说：“对于一次航运而言，4000英里的海上运输所需的费用，可能只占把货物运抵出发港以及从到达港运走货物这两段10英里的路上运输所需费用的50%。

5.	而当集装箱运输变成了联合运输时，集装箱在轮船、卡车和火车之间的无缝转移就能够让商品在一个不间断的运输流中，从亚洲的工厂直接流进北美或欧洲零售商的库房；这就使得商品运输的总体成本变得微乎其微，甚至不如一家企业加在成本分析中的脚注重要。

6.	把一船到港的混杂货物转移到中转货棚，然后再把离岗的货物装上船，这个过程可能会让一艘船在码头上停泊一个星期甚至更长时间。

7.	散货运输时代，比如在1951年的纽约，码头工人超过了5.1万人，而在伦敦，仅注册的码头工人就有5万人。而到了集装箱时代，1963年~1964年，曼哈顿的雇主们雇佣了140万人次的码头劳动力；1967年~1968年，雇佣人次减少到了不足100万；1970~1971年，雇佣人次跌破了35万；1975年~1976年，这个数字已经下降到了127041，在12年里，码头区的就业机会锐减了91%。【此处应该再加上美国国内国际集装箱货运增长量加以对比两个不同的趋势 】

8.	在战后时期，全球处理集装箱的各种主要方法并没有怎么让集装箱体现出相对于散货的优势，货物集装箱更多的是一种障碍，而不是一种帮助。

9.	1956年4月26日，100多位要人在纽华克港一边共进午餐，一边观看着起重机每隔7分钟就把一个集装箱吊装到了“理想X号”上，不到8小时船就装完了，并与当天起航。

10.麦克莱恩的根本性认识在于，航运业的业务是运货而不是通航。这种认识让他形成了与以往完全不同的集装箱运输的新概念。麦克莱恩认识到，降低货运成本要求的不仅仅是一只金属箱子，而是一整套货物处理的新方法。这个系统的每一个组成部分，港口、轮船、起重机，储存设施、卡车、火车以及发货人自身的操作等等，都必须做出改变。他的这种认识几乎要比当时运输业中的每一个人都超前很多年。这些见识所引发的变革如此富有戏剧性，以至于连几十年来一直在推动集装箱运输的国际集装箱局的专家都为之震惊。该组织的一位领导者后来承认说：“我们并没有意识到，当时的美国正在发生一场革命。”

11.	【这段可以印证为什么采用了集装箱后成本却并没有下降多少：散集混用时，散抵消了集的优势】1957年的“门户之城号”和1960年的“夏威夷平民号”非常有说服力地例证了，一旦采用了专门的轮船和设备，集装箱航运能够实现多么高的效率。

12.	【集装箱的全社会系统即将完善】然而在幕后，集装箱革命的先决条件正日趋成熟。由于工会已经在东海岸和西海岸与资方达成了协议，码头区的劳动力成本即将大幅度降低；集装箱的3C原则（一只集装箱、一个客户、一种商品）被广泛采纳；关于集装箱尺寸和吊运方法的国际标准已经确立，尽管符合这些标准的集装箱没有多少；面向集装箱处理而设计的码头正在建设中；制造商已经学会了重新布置他们的工厂，以便他们可以利用集装箱运输来节约成本；铁路公司、卡车运输公司以及货运代理已经熟悉了拖车和集装箱的转运，可以非常顺畅地运送如今所谓的“联合运输”的货物；管制机构也在慎重地鼓励竞争，以便运输业者能够把集装箱运输带来的成本节约与客户分享一些。现在只缺一个至关重要的因素：轮船。

13.	【规模效应】这些巴拿马级（Panamax）轮船（巴拿马运河允许通过的最大尺寸）能以更低的单位成本运载集装箱。相对于容量来说，这些船的单位建造成本更低了：同一艘可以运载1500只集装箱的轮船相比，建造一艘可以运载3000只集装箱的轮船并不需要两倍多的钢铁和两倍大的引擎。考虑到这些新轮船上的自动化程度，一艘更大的轮船并不需要更多船员，所以分摊到每只集装箱上的船员工资要低很多。油耗也并不随着轮船尺寸的增加而成比例地增加。到了20世纪80年代，可以容纳4200只20英尺集装箱的新轮船，其运载一吨货物的成本摇臂可以容纳3000只集装箱的轮船低40%，比可以容纳1800只集装箱的轮船低2/3。港口吞吐量不断扩大与轮船变得越来越大的驱动因素是相同的，那就是为了降低分摊到每只集装箱上的单位成本。

14.	随着集装箱航运的发展，很多非货运成本无疑是降低了。在工厂就装满集装箱，这让发货人不用再为了保护货物免遭偷盗或损毁而自己做板条箱了。集装箱本身就起到了移动仓库的作用，所以在中转棚中的传统仓储费用也取消了。货物偷盗急剧减少，损毁索赔居然减少了95%。

15.【运价降低实例】美国军用物资运价的招标中，从1979年跨太平洋双向运输40立方英尺的货物收费40.94美元，到了1986年已经暴跌到2.39美元。

16.	在“理想X号”首航的半个世纪之后，每年有相当于3亿只标准箱的集装箱在跨越全世界的海洋，而且其中有26%是从中国发出的。至于用卡车或火车跨境运输的集装箱，那就更是多得数不清了。据有关统计，截止2006年年底，全球集装箱船舶一道道5846艘，载箱能力1115万标准箱（TEU）集装箱保有量达到2231万TEU，2006年各类集装箱的年产销量295万TEU。

---

> Written with [StackEdit](https://stackedit.io/).